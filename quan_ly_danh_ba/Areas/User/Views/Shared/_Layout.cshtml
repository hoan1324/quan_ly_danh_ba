<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link href="~/Conten/lib/fontAwesome/fontawesome.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/lib/fontAwesome/all.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/lib/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/lib/css/PagedList.css" rel="stylesheet" type="text/css" />
    <link href="~/Areas/User/Content/css/site.css" rel="stylesheet" type="text/css" />
    @RenderSection("linkCss", required: false)
</head>
<body>
    
    <div class=" container-fluid d-flex flex-column flex-md-row px-0 ms-0 ">
        <div class="left-navbar w-100  ">
            <div class="position-relative">
                <div class="icon-close  position-absolute top-0 mt-1 end-0 me-1 d-inline-block d-lg-none">
                    <i class="fa-solid fa-xmark link-light"></i>
                </div>
                <div class="navbar-logo text-center mb-4 align-items-end d-flex justify-content-center">
                    <img class="w-100 " src="~/Content/img/logo.png" />
                    <span class="h4 ms-2 text-white fw-bold">NVH</span>
                </div>
                @*<div class="navigtion ms-3 category ">
                        <h4 class="fs-6 fw-bold my-3">NAVIGATION</h4>
                        <a class=" link-light active-title" href="/User/Home/Index">
                            <i class="fa-solid fa-house me-2"></i>
                            <span>Dashboard</span>
                        </a>
                    </div>*@
                <div class="contact-function ms-3 category mt-3 ">
                    <h4 class="fs-6 fw-bold my-3">FUNCTION</h4>
                    <div class="function my-3">
                        <a class=" link-light " data-link="/User/Contact/Index">
                            <i class="fa-solid fa-mobile-screen me-2"></i>
                            <span>Contact</span>
                        </a>
                    </div>
                    <div class="function my-3">
                        <a class=" link-light " data-link="/User/GroupContact/Index">
                            <i class="fa-solid fa-user-group"></i>
                            <span>Group Contact</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="container bg-light mx-0  px-0 overflow-hidden mw-100 position-relative">
            @if (TempData["SuccessMessage"] != null)
            {
                <div class="temp-alert alert alert-success position-absolute w-50 text-center" style="left:25%;">@TempData["SuccessMessage"]</div>

            }
            @if (TempData["ErrorMessage"] != null)
            {
                <div class="temp-alert alert alert-danger position-absolute w-50 text-center" style="left:25%;">@TempData["ErrorMessage"]</div>

            }
            <div class="top-navbar d-flex justify-content-between align-items-center bg-white shadow-sm">
                <div class="menu ms-5">
                    <div class="bars-icon">
                        <i class="fa-solid fa-bars fs-2"></i>
                    </div>
                </div>
                <div class="dropdown-center me-4">
                    <div class="account d-flex py-0 py-md-2 ps-md-3 px-lg-3  align-items-center dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        @{
                            var avatarUrl = SessionConfig.GetUser().Avatar != null && SessionConfig.GetUser().Avatar.Length > 0
                                ? "data:image/png;base64," + Convert.ToBase64String(SessionConfig.GetUser().Avatar)
                                : Url.Content("~/Content/img/logo.png");
                        }
                        <img class="rounded-circle me-md-2 " src="@avatarUrl" alt="user-image" />
                        <h1 class="userName lh-1 d-none d-lg-block text-wrap fs-5 overflow-hidden py-2 my-0">
                            @(SessionConfig.GetUser().UserName.Length <= 11
                           ? SessionConfig.GetUser().UserName
                           : SessionConfig.GetUser().UserName.Substring(0, 11))
                        </h1>
                    </div>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item" href="~/user/auth/profileuser">
                                <i class="fa-regular fa-circle-user"></i>
                                My Account
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item logout" href="~/user/auth/logout">
                                <i class="fa-solid fa-right-from-bracket"></i>
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="body-content">
                @RenderBody()
            </div>
        </div>
    </div>
    <script src="~/Content/lib/Scripts/jquery-3.7.1.min.js"></script>
    <script src="~/Content/lib/Scripts/bootstrap.bundle.min.js"></script>
    <script src="~/Content/lib/Scripts/jquery.validate.min.js"></script>
    <script src="~/Areas/User/Content/script/site.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>